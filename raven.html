<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Raven â€” Dots</title>
<style>
  body {
    background:#000;
    margin:0;
    display:flex;
    align-items:center;
    justify-content:center;
    height:100vh;
    color:#ddd;
    font-family:Arial, sans-serif;
  }
  canvas {
    background:#111;
    border:1px solid #444;
  }
</style>
</head>
<body>
<canvas id="grid" width="360" height="360"></canvas>

<script>
const canvas = document.getElementById("grid");
const ctx = canvas.getContext("2d");
const SIZE = 5;
const CELL = canvas.width / (SIZE+1); // +1 for labels
const RESET_MS = 10000;

function drawGrid(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.strokeStyle = "#333";
  ctx.font = "16px Arial";
  ctx.fillStyle = "#bbb";
  ctx.textAlign = "center";
  ctx.textBaseline = "middle";

  // Column numbers (top row)
  for(let c=1;c<=SIZE;c++){
    ctx.fillText(c, (c*CELL)+(CELL/2), CELL/2);
  }

  // Row letters (first column)
  const letters = ["A","B","C","D","E"];
  for(let r=1;r<=SIZE;r++){
    ctx.fillText(letters[r-1], CELL/2, (r*CELL)+(CELL/2));
  }

  // Draw grid lines
  for(let i=1;i<=SIZE;i++){
    for(let j=1;j<=SIZE;j++){
      ctx.strokeRect(i*CELL, j*CELL, CELL, CELL);
    }
  }
}
drawGrid();

function setDot(row,col,color="red"){
  const letters = ["A","B","C","D","E"];
  const rowIndex = letters.indexOf(row.toUpperCase());
  if(rowIndex === -1) return;
  const x = (col*CELL) + CELL/2;
  const y = ((rowIndex+1)*CELL) + CELL/2;

  ctx.fillStyle = color;
  ctx.beginPath();
  ctx.arc(x,y,CELL/3,0,Math.PI*2);
  ctx.fill();

  setTimeout(()=>{ drawGrid(); }, RESET_MS);
}

// Listen for Tampermonkey
window.addEventListener("message", ev=>{
  if(ev.data && ev.data.type==="dot"){
    setDot(ev.data.row, ev.data.col, ev.data.color);
  }
});
</script>
</body>
</html>
