<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Raven â€” Dots</title>
<style>
  body { background:#000; margin:0; display:flex; align-items:center; justify-content:center; height:100vh; }
  canvas { background:#111; border:1px solid #444; }
</style>
</head>
<body>
<canvas id="grid" width="300" height="300"></canvas>

<script>
const canvas = document.getElementById("grid");
const ctx = canvas.getContext("2d");
const SIZE = 5;
const CELL = canvas.width / SIZE;
const RESET_MS = 10000;

function drawGrid(){
  ctx.strokeStyle = "#333";
  for(let i=0;i<=SIZE;i++){
    ctx.beginPath();
    ctx.moveTo(i*CELL,0); ctx.lineTo(i*CELL,canvas.height); ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(0,i*CELL); ctx.lineTo(canvas.width,i*CELL); ctx.stroke();
  }
}
drawGrid();

function setDot(row,col,color="red"){
  const x = (col-1)*CELL + CELL/2;
  const y = (row-1)*CELL + CELL/2;
  ctx.fillStyle = color;
  ctx.beginPath();
  ctx.arc(x,y,CELL/4,0,Math.PI*2);
  ctx.fill();
  setTimeout(()=>{ 
    ctx.clearRect((col-1)*CELL+1,(row-1)*CELL+1,CELL-2,CELL-2);
    drawGrid();
  }, RESET_MS);
}

// Listen for Tampermonkey
window.addEventListener("message", ev=>{
  if(ev.data && ev.data.type==="dot"){
    setDot(ev.data.row, ev.data.col, ev.data.color);
  }
});
</script>
</body>
</html>
