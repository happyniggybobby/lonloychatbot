<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Raven Map</title>
  <style>
    body { display:flex; justify-content:center; align-items:center; height:100vh; background:#111; }
    #grid { display:grid; grid-template-columns:repeat(5,60px); grid-template-rows:repeat(5,60px); gap:2px; }
    .cell { width:60px; height:60px; background:#444; display:flex; justify-content:center; align-items:center; color:white; font-size:14px; }
  </style>
</head>
<body>
  <div id="grid"></div>
  <script>
    const AXIS_Y = ['A','B','C','D','E'];
    const grid=document.getElementById("grid");
    const TILE_DOTS=[];
    const DOT_DURATION=10000; // 10s persistence

    // build grid
    for(let r=0;r<5;r++){
      for(let c=1;c<=5;c++){
        const cell=document.createElement("div");
        cell.className="cell";
        cell.dataset.row=AXIS_Y[r];
        cell.dataset.col=c;
        cell.textContent=AXIS_Y[r]+c;
        grid.appendChild(cell);
      }
    }

    // pull data from query params (for testing)
    const params=new URLSearchParams(window.location.search);
    if(params.has("row")&&params.has("col")&&params.has("color")){
      const row=params.get("row"), col=params.get("col"), color=params.get("color");
      TILE_DOTS.push({row,col,color,expires:Date.now()+DOT_DURATION});
    }

    function draw(){
      const now=Date.now();
      document.querySelectorAll(".cell").forEach(cell=>{
        cell.style.background="#444"; // reset grey
      });
      for(let i=TILE_DOTS.length-1;i>=0;i--){
        const dot=TILE_DOTS[i];
        if(dot.expires>now){
          const cell=document.querySelector(`[data-row='${dot.row}'][data-col='${dot.col}']`);
          if(cell) cell.style.background=dot.color;
        } else {
          TILE_DOTS.splice(i,1);
        }
      }
      requestAnimationFrame(draw);
    }
    draw();
  </script>
</body>
</html>

